<html lang="en">
<head>    
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./estilo.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pictograma </title>
    <link rel="icon" type="image/jpg" href="imagenes/carita feliz.png" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <style>
    
    .container {
      text-align: center;
     
    }

    .circle-container {
      width: 100%;
      max-width: 400px;
      height: 400px;
      border: 2px solid rgb(51, 150, 250);
      border-radius: 50%;
      position: relative;
      margin: 20px auto;
      overflow: hidden; /* Asegura que nada se salga del círculo */
    }

    .ball {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      bottom: 0;
      background-color: #4CAF50; /* Color verde para exhalar */
      transition: all 3s ease-in-out;
    }
    .borrar1{
     text-decoration: none;
     color: #000000;
    }
    #instruction {
      font-size: 1.5rem;
      color: #000000;
      margin-top: 1px;
    }

    #startButton, #endButton {
      font-size: 1.25rem;
      padding: 10px 20px;
      margin-top: 20px;
      background-color: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
    }

    #startButton:hover, #endButton:hover {
      background-color: #45a049;
    }

    #endButton {
      display: none;
      background-color: #f44336;
    }

    #endButton:hover {
      background-color: #e53935;
    }

  
    @media (max-width: 576px) {
      .circle-container {
        max-width: 300px;
        height: 300px;
      }

      .ball {
        width: 35px;
        height: 35px;
      }

      #instruction {
        font-size: 1rem;
      }

      #startButton, #endButton {
        font-size: 1rem;
      }
      img{
        width: 30px;
    
      }
      h4{
        font-size: 18px;
      }
  </style>
</head>


  <div class="container-fluid text-center mt-1">
    <div class="row m-auto">
        
    <h4 class=" bg-yellow-light fw-bold py-2"><a class=" borrar1 mx-2" href="./index.html"> 
        <img class="fw-bold mx-2 " src="./imagenes/home.svg" alt="" width="45px">  EJERCICIOS DE AUTOREGULACIÓN 
      </a> </h4>
    <div class="circle-container">
      <div class="ball" id="ball"></div>
    </div>
    <p id="instruction">Presiona "Comencemos" para iniciar</p>
    <div> 
        <button id="startButton" class="btn btn-primary mb-1">Comencemos</button>
        <button id="endButton" class="btn btn-danger mb-1">Finalizar</button>
    </div>
  
  </div>
 
</div>
  <script>
    const ball = document.getElementById('ball');
    const instruction = document.getElementById('instruction');
    const startButton = document.getElementById('startButton');
    const endButton = document.getElementById('endButton');

    let step = 0;
    let intervalId;

    const steps = [
      { action: 'INHALA', bottom: '88%', color: '#f44336', duration: 3000 }, // Pelota sube (rojo)
      { action: 'EXHALA', bottom: '0%', color: '#4CAF50', duration: 3000 }    // Pelota baja (verde)
    ];

    function moveBall() {
      const currentStep = steps[step];
      instruction.textContent = currentStep.action;

      // Cambiar el color y la posición de la pelota
      ball.style.transitionDuration = `${currentStep.duration}ms`;
      ball.style.bottom = currentStep.bottom; // La pelota sube a 75% para mantenerse dentro del círculo
      ball.style.backgroundColor = currentStep.color;

      // Cambiar al siguiente paso
      step = (step + 1) % steps.length;
    }

    // Iniciar el ejercicio
    startButton.addEventListener('click', () => {
      startButton.style.display = 'none';  // Ocultar botón de comenzar
      endButton.style.display = 'inline';  // Mostrar botón de finalizar
      instruction.textContent = 'Inhala';  // Cambiar instrucción inicial
      moveBall(); // Comenzar la animación
      intervalId = setInterval(moveBall, 3000); // Repetir cada 3 segundos
    });

    // Finalizar el ejercicio
    endButton.addEventListener('click', () => {
      clearInterval(intervalId); // Detener la animación
      ball.style.bottom = '0'; // Volver la pelota al estado inicial
      ball.style.backgroundColor = '#4CAF50'; // Restaurar el color inicial
      instruction.textContent = 'Ejercicio Finalizado'; // Mostrar mensaje final
      startButton.style.display = 'inline'; // Mostrar botón de comenzar de nuevo
      endButton.style.display = 'none'; // Ocultar botón de finalizar
    });
  </script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz4fnFO9SKddQX2zglP4WLP6U6Cq4U4ZV7eQ3FzyK0ttf8TZJ7dbP68S46" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-w76AibP9gyb2EGG4x5fOU0MAtcU0Kv3pF4/7Xrrd3NH4phMzE4XzN2XyK5gHfN9Yb" crossorigin="anonymous"></script>
</body>
</html>
